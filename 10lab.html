<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>10 Лаба Web</title>
</head>
<style>
    body {
        background-color: transparent;
        height: 100%;
    }

    *, *::before, *::after {
        box-sizing: border-box;
        font-family: "Comic Sans MS", monospace;
        transition: 1s ease-in-out;
        outline: none;
    }

    *:active, *:focus-visible {
        outline: none;
    }

    button:active, button:focus-visible, input:active, input:focus-visible {
        outline: 1px solid red;
    }

    h2 {
        text-align: center;
    }

    h2:first-letter {
        color: #ff0000;
    }

    ul, li {
        list-style-type: none;
    }

    li {
        background-color: #f6d9ae;
    }

    #list > li:nth-child(1) {
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    #list > li:nth-last-child(1) {
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
    }

    #list > li:nth-last-child(n+2) {
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: blanchedalmond;
    }

    .task {
        text-align: center;
        font-size: 16px;
        padding: 3px;
        border-radius: 15px;
        color: #29292A;
        background-color: blanchedalmond;
    }

    .col {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        margin: 2px;
        justify-content: center;
        align-items: flex-start;
    }

    .row {
        display: flex;
        margin: 2px;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: flex-start;
    }

    .task1, .task2, .task3, .task4, .task5, .task6 {
        background: burlywood;
        max-width: 1200px;
        display: block;
        margin: 10px auto auto auto;
        border-radius: 15px;
        padding: 1%;
    }

    a, #list {
        text-align: center;
        display: block;
        font-size: 20px;
        background-color: blanchedalmond;
        color: #29292A;
        border-radius: 15px;
        padding: 15px;
    }

    button {
        border: burlywood 1px solid;
        text-align: center;
        display: block;
        width: 100%;
        font-size: 20px;
        background-color: blanchedalmond;
        color: #29292A;
        border-radius: 15px;
        padding: 15px;
    }

    button:hover {
        background: dimgray;
        color: blanchedalmond;
    }

    img {
        display: block;
        margin: 1%;
        border-radius: 10px;
        max-width: 98%;
    }

    table {
        border-collapse: collapse;
        font-family: sans-serif;
        border: 1px solid grey;
        margin: 10px;
        width: 80%;
    }

    tr, td {
        border: 1px solid grey;
        padding: 5px 5px 5px 5px;
    }

    :root {
        --oldposx: 0px;
        --oldposy: 0px;
        --posx: 0px;
        --posy: 0px;
    }

    input {
        border-radius: 10px 0 0 10px;
        width: 100%;
        height: 60px;
        border-width: 1px;
        border-style: solid;
        border-color: burlywood;
        text-align: center;
        outline: none;
    }

    input:hover {
        border: #00BFFF 1px solid;
    }

    #input_task1 {
        margin-right: 0;
        border-right: 0;
    }

    #task1 {
        border-radius: 0 10px 10px 0;
        border-left: 0;
        margin-left: 0;
    }

    .bullet {
        margin-left: 0;
        list-style: none;
        counter-reset: li;
    }

    .bullet li {
        position: relative;
        margin-bottom: 1.5em;
        border: 3px solid blanchedalmond;
        padding: 0.6em;
        border-radius: 4px;
        background: burlywood;
        color: #231F20;
    }

    .bullet li:before {
        position: absolute;
        top: -0.7em;
        padding-left: 0.4em;
        padding-right: 0.4em;
        font-size: 16px;
        font-weight: bold;
        color: blanchedalmond;
        background: burlywood;
        border-radius: 50%;
        counter-increment: li;
        content: counter(li);
    }

    #Hit_Maker {
        position: static;
        width: 100%;
        height: 100%;
    }

    #Hit_Maker > .X, #Hit_Maker > .Y {
        position: fixed;
        border: #be5858 1px dashed;
    }

    #Hit_Maker > .X {
        width: 0;
        height: 100%;
        animation: infinite movX 100ms linear;
    }

    #Hit_Maker > .Y {
        width: 100%;
        height: 0;
        animation: infinite movY 100ms linear;
    }

    @keyframes movX {
        0% {
            width: 0;
            height: 100%;
            left: var(--oldposx);
        }
        100% {
            width: 0;
            height: 100%;
            left: var(--posx);
        }
    }

    @keyframes movY {
        0% {
            width: 100%;
            height: 0;
            top: var(--oldposy);
        }
        100% {
            width: 100%;
            height: 0;
            top: var(--posy);
        }
    }

    #List_Task4 {
        text-align: center;
        min-width: 100px;
    }

    .round {
        border-radius: 100%;
    }

    .o {
        min-height: 10px;
        min-width: 10px;
        position: fixed;
        left: 50%;
        top: 50%
    }

    .move {
        animation: moving infinite 1s ease-in-out;
    }

    .state {
        left: var(--posx);
        top: var(--posy);
    }

    @keyframes moving {
        0% {
            left: var(--oldposx);
            top: var(--oldposy);
        }
        100% {
            left: var(--posx);
            top: var(--posy);
        }

    }
    .menu{
        position: fixed;
        top: 0;
        left: 0;
        width: 7%;
        height: 100%;
        background-color: burlywood;
        border-radius: 0 10px 10px 0;
    }
    .menu>button {
        background-color: blanchedalmond;
        margin: 10% 10% 10% 0 ;
        border-radius: 0 10px 10px 0;
        width: 80%;
    }
    .list {
        margin: 0;
        padding: 0;
    }
    ul{
        padding:  0 0 0 0;
    }
    li {

        background-color: transparent;
    }
    li>a{
        padding: 2px;
        margin: 5px;
        background-color: blanchedalmond;
        border-radius: 4px;
    }
</style>
<body>
<!--
<div id="Hit_Maker">
    <div class="X"></div>
    <div class="Y"></div>
</div>
-->
<div class="menu">
    <ul class="list" align="center">
        <li align="center">Лабы.р.</li>
        <ul align="center">
            <li align="center">1 Лаба</li>
            <li align="center">2 Лаба</li>
            <li align="center"><a href="3lab.html">3 Лаба</a></li>
            <li align="center"><a href="4lab.html">4 Лаба</a></li>
            <li align="center"><a href="5lab.html">5 Лаба</a></li>
            <li align="center"><a href="6lab.html">6 Лаба</a></li>
            <li align="center"><a href="7lab.html">7 Лаба</a></li>
            <li align="center"><a href="8lab.html">8 Лаба</a></li>
            <li align="center"><a href="9lab.html">9 Лаба</a></li>
            <li align="center"><a href="10lab.html">10 Лаба</a></li>
            <li align="center">11 Лаба</li>
        </ul>
        <li align="center">""</li>
        <li align="center">Инд.р.</li>
        <ul align="center">
            <li align="center"><a href="Bootstrap%20Indiv/index.html">Робото- техника</a></li>
            <li align="center"><a href="Bootstrap%20Indiv/arduino.html">Arduino</a></li>
            <li align="center"><a href="Bootstrap%20Indiv/raspberry.html">Raspberry Pi</a></li>
        </ul>
    </ul>
</div>
<div class="task1">
    <h2>Задание 1</h2>
    <p class="task">
        Создайте поле для ввода и кнопку. Сделайте так, чтобы при нажатии на кнопку данные, введенные пользователем,
        добавлялись в массив (изначально массив пустой).
    </p>
    <h2>Задание 2</h2>
    <p class="task">
        Отображайте этот массив на странице в виде html-списка. После нажатия поле должно очищаться. Проводите проверку
        на пустую строку, чтобы не добавлять их в массив.
    </p>
    <div class="row" id="Text_Task1"></div>
    <div class="row">
        <form name="Form_Task1" style="width: 100%">
            <input name="Input_Task1" id="input_task1" placeholder="Введите текст">
        </form>
        <button name="task1" id="task1">Запуск 1 задания</button>
    </div>
</div>
<div class="task3">
    <h2>Задание 3</h2>
    <p class="task">
        Создайте 3 кнопки. При наведении на них их текст (value) должен меняться на «Наведен».
        При уходе курсора с них текст должен меняться на «Не наведен».
        При нажатии на кнопку цвет текста кнопки должен меняться на случайный.
        Сделайте это через функции на каждое событие, но общие для всех кнопок (с помощью this)
    </p>
    <div class="col" id="Text_Task3"></div>
    <div class="row">
        <button id="task3_1">Не наведен</button>
        <button id="task3_2">Не наведен</button>
        <button id="task3_3">Не наведен</button>
    </div>
</div>
<div class="task4">
    <h2>Задание 4</h2>
    <p class="task">
        Дан html-список, в нем несколько элементов с текстом «Новый».
        Под списком сделайте кнопку, по нажатию на которую в конец будет добавляться новый элемент с текстом «Новый».
        Сделайте так, чтобы при нажатии на элемент списка (включая добавленные), текст менялся на «Старый».
        При повторном нажатии – на «Очень старый». При нажатии на «очень старый» элемент, тот должен удаляться из
        списка.
    </p>
    <div class="row">
        <ol class="bullet" id="List_Task4">
        </ol>
    </div>
    <button id="task4">Добавить элемент в список</button>
</div>
<div class="task5">
    <h2>Задание 5</h2>
    <p class="task">
        Измененный вариант второго задания из прошлой лабораторной работы:
        Создайте элемент div в виде круга.
        Сделайте так, чтобы при нажатии пользователя на окно браузера, координаты нажатия запоминались.
        Этот элемент должен двигаться в эту точку в течение нескольких секунд.
        Постарайтесь сделать движение плавным (можно использовать requestAnimationFrame() и transfotm: translate() для
        перемещения).
        При каждом нажатии координаты должны определяться заново.
    </p>
    <div class="row" id="Text_Task5">
    </div>

    <button id="task5">Запуск 5 задания</button>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }

    $(document).ready(function () {

        //task 1,2
        let arr = []
        document.querySelector('#task1').addEventListener("click", function (e) {
            let form = document.forms.Form_Task1
            let input = form.elements.Input_Task1
            if (input.value === "") {
                alert("А где!?")
                return
            }
            arr.push(input.value)
            input.value = ""
            let str = `<ol class="bullet">`
            for (let i = 0; i < arr.length; i++) {
                str += `<li>` + arr[i] + `</li>`
            }
            str += `</ol>`
            document.getElementById('Text_Task1').innerHTML = str
        });

        document.querySelector('#task3_1').addEventListener("mouseover", function (e) {
            document.getElementById('task3_1').innerText = "Наведен"
        })
        document.querySelector('#task3_1').addEventListener("mouseleave", function (e) {
            document.getElementById('task3_1').innerText = "Не наведен"
        })
        document.querySelector('#task3_1').addEventListener("click", function (e) {
            document.getElementById('task3_1').style.backgroundColor = `#` + getRandomInt(0, 255) + getRandomInt(0, 255) + getRandomInt(0, 255)
        })
        document.querySelector('#task3_2').addEventListener("mouseover", function (e) {
            document.getElementById('task3_2').innerText = "Наведен"
        })
        document.querySelector('#task3_2').addEventListener("mouseleave", function (e) {
            document.getElementById('task3_2').innerText = "Не наведен"
        })
        document.querySelector('#task3_2').addEventListener("click", function (e) {
            document.getElementById('task3_2').style.backgroundColor = `#` + getRandomInt(0, 255) + getRandomInt(0, 255) + getRandomInt(0, 255)
        })
        document.querySelector('#task3_3').addEventListener("mouseover", function (e) {
            document.getElementById('task3_3').innerText = "Наведен"
        })
        document.querySelector('#task3_3').addEventListener("mouseleave", function (e) {
            document.getElementById('task3_3').innerText = "Не наведен"
        })
        document.querySelector('#task3_3').addEventListener("click", function (e) {
            document.getElementById('task3_3').style.backgroundColor = `#` + getRandomInt(0, 255) + getRandomInt(0, 255) + getRandomInt(0, 255)
        })

        document.querySelector('#task4').addEventListener("click", function (e) {
            let li = document.createElement("li")
            li.innerText = "Новый"
            li.onmouseover = function () {
                if (this.innerText === "Очень старый")
                    this.innerText = "X"
                this.style.color = 'blanchedalmond'
                this.style.backgroundColor = '#ff6565'
            }
            li.onmouseleave = function () {
                if (this.innerText === "X")
                    this.innerText = "Очень старый"
                this.style.color = '#231F20'
                this.style.backgroundColor = 'burlywood'
            }
            li.onclick = function () {
                if (this.innerText === "Новый")
                    this.innerText = "Старый"
                else if (this.innerText === "Старый")
                    this.innerText = "Очень старый"
                else if (this.innerText === "Очень старый" || this.innerText === "X")
                    document.getElementById('List_Task4').removeChild(this)
            }
            document.getElementById('List_Task4').appendChild(li)
        })

        //task 5
        document.body.addEventListener("click", function (e) {
            document.getElementById('Text_Task5').innerHTML = `<div class="move round o" style="background-color: #ff3434;"></div>`
            const root = document.querySelector(':root')
            let posx = window.getComputedStyle(document.body).getPropertyValue('--posx')
            let posy = window.getComputedStyle(document.body).getPropertyValue('--posy')
            const setVariables = vars => Object.entries(vars).forEach(v => root.style.setProperty(v[0], v[1]));
            const myVariables = {
                '--oldposx': posx,
                '--oldposy': posy,
                '--posx': e.clientX + 'px',
                '--posy': e.clientY + 'px',
            };
            setVariables(myVariables);
            window.setTimeout(function () {
                document.getElementById('Text_Task5').innerHTML = `<div class="state round o" style="background-color: #ff3434;"></div>`
            }, 1000)
        })
    });
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>9 Лаба Web</title>
</head>
<style>
    *, *::before, *::after {
        box-sizing: border-box;
        font-family: "Comic Sans MS", monospace;
        transition: 1s ease-in-out;
    }

    h2 {
        text-align: center;
    }

    h2:first-letter {
        color: #ff0000;
    }

    ul, li {
        list-style-type: none;
    }

    li {
        background-color: #f6d9ae;
    }

    #list > li:nth-child(1) {
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    #list > li:nth-last-child(1) {
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
    }

    #list > li:nth-last-child(n+2) {
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: blanchedalmond;
    }

    .task {
        text-align: center;
        font-size: 16px;
        padding: 3px;
        border-radius: 15px;
        color: #29292A;
        background-color: blanchedalmond;
    }

    .col {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        margin: 2px;
        justify-content: center;
        align-items: flex-start;
    }

    .row {
        display: flex;
        margin: 2px;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: flex-start;
    }

    .task1, .task2, .task3, .task4, .task5, .task6 {
        background: burlywood;
        max-width: 1200px;
        display: block;
        margin: 10px auto auto auto;
        border-radius: 15px;
        padding: 1%;
    }

    a, #list {
        text-align: center;
        display: block;
        font-size: 20px;
        background-color: blanchedalmond;
        color: #29292A;
        border-radius: 15px;
        padding: 15px;
    }

    button {
        border-width: 1px;
        border-style: solid;
        border-color: burlywood;
        text-align: center;
        display: block;
        width: 100%;
        font-size: 20px;
        background-color: blanchedalmond;
        color: #29292A;
        border-radius: 15px;
        padding: 15px;
    }

    button:hover {
        background: dimgray;
        color: blanchedalmond;
    }

    img {
        max-height: 300px;
        display: block;
        margin: auto;
        border-radius: 15px;
        padding-bottom: 2%;
        max-width: 100%;
    }

    #task4_text {
        margin-bottom: 15px;
    }

    table {
        border-collapse: collapse;
        font-family: sans-serif;
        border: 1px solid grey;
        margin: 10px;
        width: 80%;
    }

    tr, td {
        border: 1px solid grey;
        padding: 5px 5px 5px 5px;
    }

    .inline {
        display: inline;
        margin: 1%;
    }

    .box {
        min-width: 200px;
        min-height: 200px;
        margin: 1%;
    }

    .round {
        border-radius: 100%;
    }

    :root {
        --oldposx: 0px;
        --oldposy: 0px;
        --posx: 0px;
        --posy: 0px;
    }

    .move {
        animation: moving infinite 1s linear;
    }

    @keyframes moving {
        0% {
            left: var(--oldposx);
            top: var(--oldposy);
        }
        100% {
            left: var(--posx);
            top: var(--posy);
        }

    }

    #task2 {
        width: 200px;
        height: 200px;
    }
</style>
<body>
<div class="task1">
    <h2>Задание 1</h2>
    <p class="task">
        Создайте несколько элементов div (минимум 5). Создайте массив цветов (желательно оттенки одного цвета) в таком
        же количестве. Каждый элемент div должен иметь цвет из массива последовательно (то есть 1-ый элемент – 1-ый
        цвет, 2-ой элемент – второй цвет и т.д.). Сделайте так, чтобы каждую секунду цвет заднего фона каждого элемента
        менялся на следующий по порядку в массиве. С последнего должен меняться на первый цвет. Пример:
    </p>
    <div class="row" id="Text_Task1"></div>
</div>
<div class="task2">
    <h2>Задание 2</h2>
    <p class="task">
        Создайте элемент div в виде круга. Случайным образом выбирайте координаты на окне браузера. Этот элемент должен
        двигаться в эту точку в течение нескольких секунд. Постарайтесь сделать движение плавным (можно использовать
        анимацию с transfotm: translate() или requestAnimationFrame() для перемещения). После того, как он достигает
        выбранной координаты, должна выбираться новая случайная координата и так далее.
    </p>
    <!--<div class="row" id="Text_Task2"><div class="task round box" id="o"></div></div>-->
    <div class="row">
        <button class="task round box" id="task2">Запуск 2 задания</button>
        <div id="o"/>
    </div>
</div>
<div class="task3">
    <h2>Задание 3</h2>
    <p class="task">
        Напишите функцию, которая из массива данных формирует html-список. На странице пользователь должен вводить
        данные (prompt) в цикле до тех пор, пока не введет пустую строку. После этого в функцию должен передаваться
        считанный массив данных. Функция должна сформировать html-список как объект Node, при этом элементы списка также
        должны быть объектами Node (используйте функции createElement() и appendChild() для этого). Функция возвращает
        объект html-список в качестве результата. Присоедините его к странице в body
    </p>
    <div class="row" id="Text_Task3"></div>
    <button id="task3">Запуск 3 задания</button>
</div>
<div class="task4">
    <h2>Задание 4</h2>
    <p class="task">
        Создайте страницу, на которой генерируются случайные посты. Создайте массив ссылок на картинки (нужно для
        случайной генерации картинок). Создайте массив предложений (нужно для случайной генерации текстов). Пользователь
        должен вводить количество постов (K) и количество предложений (Kpr) в каждом посте (prompt). Для создания поста
        в первую очередь создайте элемент div. Далее создайте элемент картинку (img). Добавьте эту картинку в div как
        дочерний элемент. Создайте абзац (p) и также добавьте в div как дочерний элемент. Используйте для этого
        createElement() и appendChild(). Создайте массив постов и заполните его с помощью cloneNode() копиями поста в
        количестве K. Для каждой копии:  Задайте цвет шрифта и цвет заднего фона случайным образом (можно создать набор
        классов стилей для случайного выбора).  Задайте случайную ссылку из массива на картинку элемента img с этого
        div.  Случайным образом заполните элемент p предложениями в количестве Kpr. Добавьте все посты из массива на
        страницу. К примеру, 3 поста и 3 случайные предложения
    </p>
    <div class="row" id="Text_Task4"></div>
    <button id="task4">Запуск 4 задания</button>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }

    index = 0
    $(document).ready(function () {
        window.setInterval(function () {
            let colors = [
                "#ff0000",
                "#fd8d8d",
                "#ffd1d1",
                "#ff8b8b",
                "#ff0000"
            ]
            let str = ``
            for (let i = 0; i < 5; i++) {
                str += `<div class="box inline" style="border-radius: 15px; background-color: ` + colors[index] + `"></div>`
                index++
                //alert(index)
                if (index >= 5) index = 1
            }
            //alert(str)
            document.getElementById('Text_Task1').innerHTML = str
        }, 300);

        document.getElementById("task2").innerHTML
            = `<div class="move round" style="min-height: 10px;min-width: 10px;background-color: red;position: fixed;left: 50%;top: 50%;"></div>`

        window.setInterval(function () {
            let x = getRandomInt(0, window.screen.width)
            let y = getRandomInt(0, window.screen.height)
            //alert(x + " " + y)
            const root = document.querySelector(':root')
            const getProperty = vars => Object.entries(vars).forEach(v => root.style.getPropertyValue('--oldposx'))
            const setVariables = vars => Object.entries(vars).forEach(v => root.style.setProperty(v[0], v[1]));
            const myVariables = {
                '--oldposx': this['--posx'],
                '--oldposy': this['--posy'],
                '--posx': x + 'px',
                '--posy': y + 'px',
            };
            alert(getProperty)
            alert("oldposx " + myVariables['--oldposx']
                + " oldposy " + myVariables['--oldposy']
                + " posx " + myVariables['--posx']
                + " posy " + myVariables['--posy'])
            setVariables(myVariables);
        }, 1000);
        $("#task2").click(function () {
            //let c = this.getBoundingClientRect()
            //alert(c.top + " " + c.left)
            //let width = getRandomInt(0, window.screen.width)
            //let height = getRandomInt(0, window.screen.height)
            //const root = document.querySelector(':root');
            //const setVariables = vars => Object.entries(vars).forEach(v => root.style.setProperty(v[0], v[1]));
            //const myVariables = {
            //    '--posx': c.left + c.width / 2 + 'px',
            //    '--posy': c.top + c.height / 2 + 'px',
            //};
            //setVariables(myVariables);
            //document.getElementById("task2").innerHTML
            //= `<div class="move round" style="min-height: 10px;min-width: 10px;background-color: red;position: fixed;left: ` + width + `px;top: ` + height + `px;"></div>`
        });
        $("#task3").click(function () {

            function HTML_List(arr) {

            }

            let arr = []

            while (true) {
                let b = prompt("Введите текст")
                if (b === "")
                    break;
                arr.push(b)
            }

            document.getElementById("Text_Task3").innerHTML = HTML_List(arr);
        });
        $("#task4").click(function () {

            function HTML_List(arr) {

            }

            let arr = []

            while (true) {
                let b = prompt("Введите текст")
                if (b === "")
                    break;
                arr.push(b)
            }

            document.getElementById("Text_Task3").innerHTML = HTML_List(arr);
        });
    });
</script>
</body>
</html>